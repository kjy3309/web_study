<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<textarea id="jText" cols="50" rows="20">
    {
        "employees":[
            {"firstName":"Jhone","lastName":"Doe"},
            {"firstName":"Anna","lastName":"Smith"},
            {"firstName":"Peter","lastName":"Jhones"}
        ]
    }
</textarea>
<br>
<input type="text" id="eName" value=""/>번째 사원 이름
<button id="jRead">추출</button>
<br>
<h2 id="result"></h2>
</body>
<script>
    // var arr = [1,2,3,4,5];
    // var obj = {'key':5};
    // console.log(arr[0]);
    // console.log(obj);

    // obj.arry = arr;
    // obj['number'] = 135;
    // console.log(obj);
    // text to json

    var txt = document.getElementById('jText');
    console.log(txt.value);

    var jsonObj = JSON.parse(txt.value);
    console.log(jsonObj);

    // jREad에 이벤트 추가
    document.getElementById("jRead").addEventListener('click',function(){
        //2. jsonObj 에서 n 번째 사원 이름을 가져오기
        var n = document.getElementById("eName").value;
        //javascript 에서는 문자에 숫자를 빼도 상관 하지 않는다.
        //그래도 문자일 경우 parseInt() 를 사용하여 숫자로 바꿔 주자
        console.log(parseInt(n)-1);
        var num = parseInt(n)-1;
        // 콘솔에 해당 사원의 성과 이름 출력
        console.log(jsonObj.employees[num]);
        //3. result 에 해당 값을 출력
        document.getElementById('result').innerHTML = jsonObj.employees[num].lastName+" "+jsonObj.employees[num].firstName;
    });
</script>
</html>